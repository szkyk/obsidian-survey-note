# Obsidian Survey Note Plugin

Obsidian用のSurveyNoteプラグインです。ノートを構造化された形式で整理・編集できます。

## 機能

### 主な機能
- **ビューの切り替え**: 通常のMarkdownビューとSurveyNoteビューを切り替えて使用できます
- **自動ボタン表示**: フロントマターで`survey-note-plugin: note`が設定されたファイルに、自動的にビュー切り替えボタンが表示されます
- **構造化編集**: 以下の6つのセクションをグリッド形式で編集できます：
  - 背景目的
  - まとめ
  - 内容1
  - 内容1の補足
  - 内容2
  - 内容2の補足
- **即座保存**: 編集内容を即座にMarkdownファイルに保存できます
- **フロントマター保持**: 既存のフロントマターを保持しながら編集できます

### 使用方法

1. **ファイルの準備**
   ノートのフロントマターに以下を追加してください：
   ```yaml
   ---
   survey-note-plugin: note
   ---
   ```

2. **ビューの切り替え**
   - フロントマターが設定されたファイルを開くと、ヘッダーに「SurveyNote表示に切り替え」ボタンが表示されます
   - コマンドパレット（Ctrl/Cmd + P）から「SurveyNote表示に切り替え」コマンドを実行することも可能です

3. **編集**
   - SurveyNoteビューでは、各セクションが独立したテキストエリアで表示されます
   - 各セクションを自由に編集できます
   - 「Save」ボタンで変更内容を保存します

4. **Markdownビューに戻る**
   - SurveyNoteビューのヘッダーにある「Markdown表示に切り替え」ボタンをクリックします

### レイアウト

SurveyNoteビューでは、以下のようなレイアウトで表示されます：

```
┌─────────────────────────────────────────────────────────────┐
│      ノートタイトル                              [Save]       │
├─────────────────────────────────────────────────────────────┤
│  ┌─────────────────────┐  ┌─────────────────────┐            │
│  │     背景目的         │  │      まとめ          │            │
│  │    (固定の高さ)      │   │    (固定の高さ)      │            │
│  │                     │  │                     │            │
│  └─────────────────────┘  └─────────────────────┘            │
│  ┌─────────┐┌─────────┐┌─────────┐┌─────────┐                │
│  │ 内容1    ││ 内容1の  ││ 内容2    ││ 内容2の │                │
│  │         ││ 補足     ││         ││ 補足    │                │
│  │         ││         ││         ││         │                │
│  │         ││         ││         ││         │                │
│  │         ││         ││         ││         │                │
│  │         ││         ││         ││         │                │
│  │(可変の高さ)││(可変の高さ)││(可変の高さ)││(可変の高さ)│                │
│  └─────────┘└─────────┘└─────────┘└─────────┘                │
└─────────────────────────────────────────────────────────────┘
```

- **ヘッダー**: ノートのタイトル（ファイル名）とSaveボタンが表示されます
- **上段**: 「背景目的」と「まとめ」が幅広に表示され、高さは固定です
- **下段**: 「内容1」「内容1の補足」「内容2」「内容2の補足」が等幅で表示され、残りの空間を使用します

## インストール

### 手動インストール
1. このリポジトリをクローンまたはダウンロードします
2. `npm install`で依存関係をインストールします
3. `npm run build`でプラグインをビルドします
4. `main.js`、`styles.css`、`manifest.json`をあなたのVaultの`.obsidian/plugins/survey-note/`フォルダーにコピーします

### 開発環境での使用
1. このリポジトリをクローンします
2. `npm install`で依存関係をインストールします
3. `npm run dev`で開発モードを開始します（ファイル変更時に自動でリビルドされます）
4. Obsidianでプラグインを有効にします

## 開発

### 必要環境
- Node.js v16以上
- TypeScript

### 開発コマンド
```bash
npm run dev      # 開発モード（ファイル監視）
npm run build    # プロダクションビルド
npm run version  # バージョン番号の更新
```

### プロジェクト構成
```
obsidian-survey-note/
├── main.ts           # メインプラグインファイル
├── view.ts           # SurveyNoteビューの実装
├── styles.css        # スタイルシート
├── manifest.json     # プラグインマニフェスト
└── package.json      # パッケージ設定
```

### 技術仕様
- **TypeScript**: 型安全性とコード品質の向上
- **Obsidian API**: プラグインの標準APIを使用
- **カスタムビュー**: WorkspaceLeafを活用した独自ビューの実装
- **状態管理**: ビュー間の状態を適切に管理

## ライセンス

MIT License

## 貢献

バグ報告や機能要求は、GitHubのIssuesでお知らせください。プルリクエストも歓迎します。
